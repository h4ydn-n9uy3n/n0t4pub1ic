"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./components/ImageGrid.tsx":
/*!**********************************!*\
  !*** ./components/ImageGrid.tsx ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sonner */ \"./node_modules/sonner/dist/index.mjs\");\n\nvar _s = $RefreshSig$();\n\n\nconst MAX_WIDTH = 800;\nconst MAX_HEIGHT = 800;\nconst TARGET_FILE_SIZE = 800 * 1024;\nconst compressImage = async function(dataUrl) {\n    let initialQuality = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0.9;\n    return new Promise((resolve, reject)=>{\n        const img = new Image();\n        img.onload = async ()=>{\n            try {\n                const canvas = document.createElement(\"canvas\");\n                let width = img.width;\n                let height = img.height;\n                // Calculate new dimensions while maintaining aspect ratio\n                if (width > height) {\n                    if (width > MAX_WIDTH) {\n                        height = Math.round(height * MAX_WIDTH / width);\n                        width = MAX_WIDTH;\n                    }\n                } else {\n                    if (height > MAX_HEIGHT) {\n                        width = Math.round(width * MAX_HEIGHT / height);\n                        height = MAX_HEIGHT;\n                    }\n                }\n                canvas.width = width;\n                canvas.height = height;\n                const ctx = canvas.getContext(\"2d\");\n                if (!ctx) {\n                    throw new Error(\"Could not get canvas context\");\n                }\n                // Use better image rendering\n                ctx.imageSmoothingEnabled = true;\n                ctx.imageSmoothingQuality = \"high\";\n                ctx.drawImage(img, 0, 0, width, height);\n                // Progressive compression with higher minimum quality\n                let quality = initialQuality;\n                let compressedDataUrl = canvas.toDataURL(\"image/jpeg\", quality);\n                while(compressedDataUrl.length > TARGET_FILE_SIZE && quality > 0.5){\n                    quality -= 0.1;\n                    compressedDataUrl = canvas.toDataURL(\"image/jpeg\", quality);\n                }\n                // If still too large, try one more time with reduced dimensions\n                if (compressedDataUrl.length > TARGET_FILE_SIZE) {\n                    width = Math.round(width * 0.9);\n                    height = Math.round(height * 0.9);\n                    canvas.width = width;\n                    canvas.height = height;\n                    ctx.imageSmoothingEnabled = true;\n                    ctx.imageSmoothingQuality = \"high\";\n                    ctx.drawImage(img, 0, 0, width, height);\n                    compressedDataUrl = canvas.toDataURL(\"image/jpeg\", quality);\n                }\n                resolve(compressedDataUrl);\n            } catch (error) {\n                console.error(\"Image compression error:\", error);\n                reject(error);\n            }\n        };\n        img.onerror = (error)=>{\n            console.error(\"Image loading error:\", error);\n            reject(new Error(\"Failed to load image\"));\n        };\n        img.src = dataUrl;\n    });\n};\nconst saveToLocalStorage = (key, value)=>{\n    try {\n        // Try to save with compression if needed\n        const compressed = value.length > 1024 * 1024 ? value : value;\n        localStorage.setItem(key, compressed);\n        return true;\n    } catch (error) {\n        console.error(\"localStorage error:\", error);\n        // Try to clear old data if storage is full\n        try {\n            localStorage.removeItem(key);\n            localStorage.setItem(key, value);\n            return true;\n        } catch (retryError) {\n            console.error(\"Failed to save after cleanup:\", retryError);\n            sonner__WEBPACK_IMPORTED_MODULE_2__.toast.error(\"Storage error: Image might be too large\");\n            return false;\n        }\n    }\n};\nconst ImageGrid = (param)=>{\n    let { type, emptySquareColor = \"#FFAFC5\", borderColor = \"#FF8FAB\", textColor = \"#553E4E\" } = param;\n    _s();\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [images, setImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(Array(9).fill(null));\n    const fileInputRefs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const [selectedImage, setSelectedImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedIndex, setSelectedIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsClient(true);\n        try {\n            const savedImages = localStorage.getItem(\"grid-\".concat(type));\n            if (savedImages) {\n                const parsedImages = JSON.parse(savedImages);\n                console.log(\"Loading images for grid \".concat(type, \":\"), parsedImages);\n                setImages(parsedImages);\n            }\n        } catch (error) {\n            console.error(\"Error loading images:\", error);\n        }\n    }, [\n        type\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isClient) {\n            try {\n                console.log(\"Saving images for grid \".concat(type, \":\"), images);\n                const success = saveToLocalStorage(\"grid-\".concat(type), JSON.stringify(images));\n                if (!success) {\n                    console.warn(\"Failed to save images to localStorage\");\n                    // Try to clear other data to make space\n                    try {\n                        for(let i = 1; i <= 3; i++){\n                            if (i !== type) {\n                                localStorage.removeItem(\"grid-\".concat(i));\n                            }\n                        }\n                        // Try saving again\n                        const retrySuccess = saveToLocalStorage(\"grid-\".concat(type), JSON.stringify(images));\n                        if (!retrySuccess) {\n                            console.error(\"Failed to save images even after cleanup\");\n                        }\n                    } catch (error) {\n                        console.error(\"Error during storage cleanup:\", error);\n                    }\n                }\n            } catch (error) {\n                console.error(\"Error saving images:\", error);\n            }\n        }\n    }, [\n        images,\n        type,\n        isClient\n    ]);\n    const handleImageUpload = async (index, event)=>{\n        var _event_target_files;\n        const file = (_event_target_files = event.target.files) === null || _event_target_files === void 0 ? void 0 : _event_target_files[0];\n        if (file) {\n            console.log(\"Loading image:\", file.name, \"Size:\", file.size);\n            try {\n                const loadingToast = sonner__WEBPACK_IMPORTED_MODULE_2__.toast.loading(\"Processing image...\");\n                const reader = new FileReader();\n                reader.onload = async ()=>{\n                    try {\n                        const result = reader.result;\n                        console.log(\"File read successfully, length:\", result.length);\n                        // Create a temporary image to verify loading\n                        const tempImg = new Image();\n                        tempImg.onload = async ()=>{\n                            try {\n                                console.log(\"Image dimensions:\", tempImg.width, \"x\", tempImg.height);\n                                const compressedImage = await compressImage(result);\n                                console.log(\"Compressed image size:\", compressedImage.length);\n                                const newImages = [\n                                    ...images\n                                ];\n                                newImages[index] = compressedImage;\n                                setImages(newImages);\n                                // Verify the image is valid after compression\n                                const verifyImg = new Image();\n                                verifyImg.onload = ()=>{\n                                    console.log(\"Image verified after compression\");\n                                    const success = saveToLocalStorage(\"grid-\".concat(type), JSON.stringify(newImages));\n                                    sonner__WEBPACK_IMPORTED_MODULE_2__.toast.dismiss(loadingToast);\n                                    if (success) {\n                                        sonner__WEBPACK_IMPORTED_MODULE_2__.toast.success(\"Image uploaded successfully\");\n                                    } else {\n                                        sonner__WEBPACK_IMPORTED_MODULE_2__.toast.error(\"Failed to save image. Please try a smaller image.\");\n                                    }\n                                };\n                                verifyImg.onerror = ()=>{\n                                    console.error(\"Failed to verify compressed image\");\n                                    sonner__WEBPACK_IMPORTED_MODULE_2__.toast.dismiss(loadingToast);\n                                    sonner__WEBPACK_IMPORTED_MODULE_2__.toast.error(\"Error processing image. Please try again.\");\n                                };\n                                verifyImg.src = compressedImage;\n                            } catch (error) {\n                                console.error(\"Error during compression:\", error);\n                                sonner__WEBPACK_IMPORTED_MODULE_2__.toast.dismiss(loadingToast);\n                                sonner__WEBPACK_IMPORTED_MODULE_2__.toast.error(\"Error processing image. Please try again.\");\n                            }\n                        };\n                        tempImg.onerror = (error)=>{\n                            console.error(\"Error loading original image:\", error);\n                            sonner__WEBPACK_IMPORTED_MODULE_2__.toast.dismiss(loadingToast);\n                            sonner__WEBPACK_IMPORTED_MODULE_2__.toast.error(\"Error loading image. Please try a different image.\");\n                        };\n                        tempImg.src = result;\n                    } catch (error) {\n                        console.error(\"Error processing image data:\", error);\n                        sonner__WEBPACK_IMPORTED_MODULE_2__.toast.dismiss(loadingToast);\n                        sonner__WEBPACK_IMPORTED_MODULE_2__.toast.error(\"Error processing image. Please try a different image.\");\n                    }\n                };\n                reader.onerror = (error)=>{\n                    console.error(\"Error reading file:\", error);\n                    sonner__WEBPACK_IMPORTED_MODULE_2__.toast.dismiss(loadingToast);\n                    sonner__WEBPACK_IMPORTED_MODULE_2__.toast.error(\"Error reading image file\");\n                };\n                reader.readAsDataURL(file);\n            } catch (error) {\n                console.error(\"Error during upload:\", error);\n                sonner__WEBPACK_IMPORTED_MODULE_2__.toast.error(\"Error uploading image\");\n            }\n        }\n    };\n    const handleSquareClick = (index)=>{\n        if (images[index]) {\n            setSelectedImage(images[index]);\n            setSelectedIndex(index);\n        } else {\n            var _fileInputRefs_current_index;\n            (_fileInputRefs_current_index = fileInputRefs.current[index]) === null || _fileInputRefs_current_index === void 0 ? void 0 : _fileInputRefs_current_index.click();\n        }\n    };\n    const getSquareClassName = (index)=>{\n        const baseClasses = \"\\n      relative rounded-xl overflow-hidden\\n      transform-gpu transition-all duration-[800ms] ease-out\\n      hover:scale-[1.02] cursor-pointer group\\n      border-2\\n      flex items-stretch justify-center\\n    \";\n        // Type 1: Center square is double width\n        if (type === 1) {\n            if (index === 4) {\n                return \"\".concat(baseClasses, \" w-[520px] h-[250px]\");\n            }\n            if (index === 5) {\n                return \"hidden\";\n            }\n        }\n        // Type 3: Special layout with upload in middle\n        if (type === 3) {\n            if (index === 4) {\n                return \"\".concat(baseClasses, \" w-[250px] h-[250px] relative\");\n            }\n        }\n        return \"\".concat(baseClasses, \" w-[250px] h-[250px]\");\n    };\n    const gridClassName = ()=>{\n        if (type === 1) {\n            return \"grid grid-cols-3 gap-[10px] [&>div:nth-child(5)]:col-span-2\";\n        }\n        if (type === 3) {\n            return \"grid grid-cols-3 gap-[10px] relative\";\n        }\n        return \"grid grid-cols-3 gap-[10px]\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mb-8\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"\".concat(gridClassName(), \" max-w-[1200px] mx-auto\"),\n                children: Array.from({\n                    length: 9\n                }).map((_, index)=>{\n                    const image = images[index];\n                    const isMiddleSquare = type === 3 && index === 4;\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: getSquareClassName(index),\n                        style: {\n                            borderColor,\n                            minHeight: \"250px\",\n                            display: type === 1 && index === 5 ? \"none\" : \"flex\",\n                            position: \"relative\",\n                            overflow: \"hidden\",\n                            backgroundImage: isMiddleSquare ? undefined : type === 3 ? \"url(/layer21.png)\" : undefined,\n                            backgroundSize: \"cover\",\n                            backgroundPosition: \"center\"\n                        },\n                        onClick: ()=>handleSquareClick(index),\n                        children: [\n                            image ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: image,\n                                alt: \"Grid \".concat(type, \" Image \").concat(index + 1),\n                                className: \"w-full h-full object-cover transform-gpu transition-all duration-[800ms] ease-out group-hover:scale-100\",\n                                style: {\n                                    objectFit: \"cover\",\n                                    width: \"100%\",\n                                    height: \"100%\",\n                                    display: \"block\"\n                                },\n                                onLoad: ()=>console.log(\"Image \".concat(index, \" loaded successfully\")),\n                                onError: (e)=>{\n                                    console.error(\"Error loading image \".concat(index, \":\"), e);\n                                    const target = e.target;\n                                    target.onerror = null;\n                                    // Try to reload the image\n                                    if (image && !image.includes(\"?retry\")) {\n                                        target.src = image + \"?retry=1\";\n                                    } else {\n                                        target.src = \"\";\n                                        sonner__WEBPACK_IMPORTED_MODULE_2__.toast.error(\"Failed to load image \".concat(index + 1));\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\hphuc\\\\Desktop\\\\4u\\\\components\\\\ImageGrid.tsx\",\n                                lineNumber: 314,\n                                columnNumber: 17\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full h-full flex items-center justify-center\",\n                                style: {\n                                    backgroundColor: emptySquareColor,\n                                    position: \"absolute\",\n                                    top: 0,\n                                    left: 0,\n                                    zIndex: 0\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    style: {\n                                        color: textColor\n                                    },\n                                    className: \"text-lg\",\n                                    children: \"Click to Upload\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\hphuc\\\\Desktop\\\\4u\\\\components\\\\ImageGrid.tsx\",\n                                    lineNumber: 349,\n                                    columnNumber: 19\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\hphuc\\\\Desktop\\\\4u\\\\components\\\\ImageGrid.tsx\",\n                                lineNumber: 339,\n                                columnNumber: 17\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"file\",\n                                ref: (el)=>{\n                                    if (fileInputRefs.current) {\n                                        fileInputRefs.current[index] = el;\n                                    }\n                                },\n                                onChange: (e)=>handleImageUpload(index, e),\n                                accept: \"image/*\",\n                                className: \"hidden\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\hphuc\\\\Desktop\\\\4u\\\\components\\\\ImageGrid.tsx\",\n                                lineNumber: 354,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, index, true, {\n                        fileName: \"C:\\\\Users\\\\hphuc\\\\Desktop\\\\4u\\\\components\\\\ImageGrid.tsx\",\n                        lineNumber: 298,\n                        columnNumber: 13\n                    }, undefined);\n                })\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\hphuc\\\\Desktop\\\\4u\\\\components\\\\ImageGrid.tsx\",\n                lineNumber: 292,\n                columnNumber: 7\n            }, undefined),\n            selectedImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n                onClick: ()=>{\n                    setSelectedImage(null);\n                    setSelectedIndex(null);\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative max-w-[90vw] max-h-[90vh]\",\n                    onClick: (e)=>e.stopPropagation(),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: selectedImage,\n                            alt: \"Enlarged view\",\n                            className: \"max-w-full max-h-[90vh] object-contain rounded-3xl border-4 cursor-pointer\",\n                            style: {\n                                borderColor\n                            },\n                            onClick: ()=>{\n                                if (selectedIndex !== null) {\n                                    var _fileInputRefs_current_selectedIndex;\n                                    (_fileInputRefs_current_selectedIndex = fileInputRefs.current[selectedIndex]) === null || _fileInputRefs_current_selectedIndex === void 0 ? void 0 : _fileInputRefs_current_selectedIndex.click();\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\hphuc\\\\Desktop\\\\4u\\\\components\\\\ImageGrid.tsx\",\n                            lineNumber: 380,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full w-8 h-8 flex items-center justify-center hover:bg-opacity-70 transition-all\",\n                            onClick: ()=>{\n                                setSelectedImage(null);\n                                setSelectedIndex(null);\n                            },\n                            children: \"\\xd7\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\hphuc\\\\Desktop\\\\4u\\\\components\\\\ImageGrid.tsx\",\n                            lineNumber: 391,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\hphuc\\\\Desktop\\\\4u\\\\components\\\\ImageGrid.tsx\",\n                    lineNumber: 379,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\hphuc\\\\Desktop\\\\4u\\\\components\\\\ImageGrid.tsx\",\n                lineNumber: 372,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\hphuc\\\\Desktop\\\\4u\\\\components\\\\ImageGrid.tsx\",\n        lineNumber: 291,\n        columnNumber: 5\n    }, undefined);\n};\n_s(ImageGrid, \"mL8XVepx2G8Mdb6GP40oAt0fumM=\");\n_c = ImageGrid;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ImageGrid);\nvar _c;\n$RefreshReg$(_c, \"ImageGrid\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2pCRSxpQkFBaUI7Z0JBQ25COzBCQUVBLDRFQUFDcUM7b0JBQUlDLFdBQVU7b0JBQXFDZSxTQUFTSyxDQUFBQSxJQUFLQSxFQUFFYSxlQUFlOztzQ0FDakYsOERBQUN0SDs0QkFDQ3VCLEtBQUtxQjs0QkFDTHlELEtBQUk7NEJBQ0poQixXQUFVOzRCQUNWTSxPQUFPO2dDQUFFeEQ7NEJBQVk7NEJBQ3JCaUUsU0FBUztnQ0FDUCxJQUFJdEQsa0JBQWtCLE1BQU07d0NBQzFCSDtxQ0FBQUEsdUNBQUFBLGNBQWNvQyxPQUFPLENBQUNqQyxjQUFjLGNBQXBDSCwyREFBQUEscUNBQXNDcUMsS0FBSztnQ0FDN0M7NEJBQ0Y7Ozs7OztzQ0FFRiw4REFBQ3VDOzRCQUNDbEMsV0FBVTs0QkFDVmUsU0FBUztnQ0FDUHZELGlCQUFpQjtnQ0FDakJFLGlCQUFpQjs0QkFDbkI7c0NBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUWI7R0E1U01mO0tBQUFBO0FBOFNOLCtEQUFlQSxTQUFTQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvSW1hZ2VHcmlkLnRzeD9mMjgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSAnc29ubmVyJztcblxuaW50ZXJmYWNlIEdyaWRQcm9wcyB7XG4gIHR5cGU6IDEgfCAyIHwgMztcbiAgZW1wdHlTcXVhcmVDb2xvcj86IHN0cmluZztcbiAgYm9yZGVyQ29sb3I/OiBzdHJpbmc7XG4gIHRleHRDb2xvcj86IHN0cmluZztcbn1cblxuY29uc3QgTUFYX1dJRFRIID0gODAwO1xuY29uc3QgTUFYX0hFSUdIVCA9IDgwMDtcbmNvbnN0IFRBUkdFVF9GSUxFX1NJWkUgPSA4MDAgKiAxMDI0O1xuXG5jb25zdCBjb21wcmVzc0ltYWdlID0gYXN5bmMgKGRhdGFVcmw6IHN0cmluZywgaW5pdGlhbFF1YWxpdHkgPSAwLjkpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIGltZy5vbmxvYWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgbGV0IHdpZHRoID0gaW1nLndpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gaW1nLmhlaWdodDtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgbmV3IGRpbWVuc2lvbnMgd2hpbGUgbWFpbnRhaW5pbmcgYXNwZWN0IHJhdGlvXG4gICAgICAgIGlmICh3aWR0aCA+IGhlaWdodCkge1xuICAgICAgICAgIGlmICh3aWR0aCA+IE1BWF9XSURUSCkge1xuICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQgKiBNQVhfV0lEVEggLyB3aWR0aCk7XG4gICAgICAgICAgICB3aWR0aCA9IE1BWF9XSURUSDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGhlaWdodCA+IE1BWF9IRUlHSFQpIHtcbiAgICAgICAgICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCAqIE1BWF9IRUlHSFQgLyBoZWlnaHQpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gTUFYX0hFSUdIVDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGlmICghY3R4KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZ2V0IGNhbnZhcyBjb250ZXh0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVzZSBiZXR0ZXIgaW1hZ2UgcmVuZGVyaW5nXG4gICAgICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICBjdHguaW1hZ2VTbW9vdGhpbmdRdWFsaXR5ID0gJ2hpZ2gnO1xuICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgLy8gUHJvZ3Jlc3NpdmUgY29tcHJlc3Npb24gd2l0aCBoaWdoZXIgbWluaW11bSBxdWFsaXR5XG4gICAgICAgIGxldCBxdWFsaXR5ID0gaW5pdGlhbFF1YWxpdHk7XG4gICAgICAgIGxldCBjb21wcmVzc2VkRGF0YVVybCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCBxdWFsaXR5KTtcbiAgICAgICAgXG4gICAgICAgIHdoaWxlIChjb21wcmVzc2VkRGF0YVVybC5sZW5ndGggPiBUQVJHRVRfRklMRV9TSVpFICYmIHF1YWxpdHkgPiAwLjUpIHtcbiAgICAgICAgICBxdWFsaXR5IC09IDAuMTtcbiAgICAgICAgICBjb21wcmVzc2VkRGF0YVVybCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCBxdWFsaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHN0aWxsIHRvbyBsYXJnZSwgdHJ5IG9uZSBtb3JlIHRpbWUgd2l0aCByZWR1Y2VkIGRpbWVuc2lvbnNcbiAgICAgICAgaWYgKGNvbXByZXNzZWREYXRhVXJsLmxlbmd0aCA+IFRBUkdFVF9GSUxFX1NJWkUpIHtcbiAgICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGggKiAwLjkpO1xuICAgICAgICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0ICogMC45KTtcbiAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgIGN0eC5pbWFnZVNtb290aGluZ1F1YWxpdHkgPSAnaGlnaCc7XG4gICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgIGNvbXByZXNzZWREYXRhVXJsID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIHF1YWxpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZShjb21wcmVzc2VkRGF0YVVybCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdJbWFnZSBjb21wcmVzc2lvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfTtcbiAgICBpbWcub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcignSW1hZ2UgbG9hZGluZyBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBpbWFnZScpKTtcbiAgICB9O1xuICAgIGltZy5zcmMgPSBkYXRhVXJsO1xuICB9KTtcbn07XG5cbmNvbnN0IHNhdmVUb0xvY2FsU3RvcmFnZSA9IChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4ge1xuICB0cnkge1xuICAgIC8vIFRyeSB0byBzYXZlIHdpdGggY29tcHJlc3Npb24gaWYgbmVlZGVkXG4gICAgY29uc3QgY29tcHJlc3NlZCA9IHZhbHVlLmxlbmd0aCA+IDEwMjQgKiAxMDI0ID8gdmFsdWUgOiB2YWx1ZTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIGNvbXByZXNzZWQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ2xvY2FsU3RvcmFnZSBlcnJvcjonLCBlcnJvcik7XG4gICAgLy8gVHJ5IHRvIGNsZWFyIG9sZCBkYXRhIGlmIHN0b3JhZ2UgaXMgZnVsbFxuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChyZXRyeUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBhZnRlciBjbGVhbnVwOicsIHJldHJ5RXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoJ1N0b3JhZ2UgZXJyb3I6IEltYWdlIG1pZ2h0IGJlIHRvbyBsYXJnZScpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgSW1hZ2VHcmlkID0gKHsgXG4gIHR5cGUsIFxuICBlbXB0eVNxdWFyZUNvbG9yID0gJyNGRkFGQzUnLFxuICBib3JkZXJDb2xvciA9ICcjRkY4RkFCJyxcbiAgdGV4dENvbG9yID0gJyM1NTNFNEUnXG59OiBHcmlkUHJvcHMpID0+IHtcbiAgY29uc3QgW2lzQ2xpZW50LCBzZXRJc0NsaWVudF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpbWFnZXMsIHNldEltYWdlc10gPSB1c2VTdGF0ZTwoc3RyaW5nIHwgbnVsbClbXT4oQXJyYXkoOSkuZmlsbChudWxsKSk7XG4gIGNvbnN0IGZpbGVJbnB1dFJlZnMgPSB1c2VSZWY8KEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsKVtdPihbXSk7XG4gIGNvbnN0IFtzZWxlY3RlZEltYWdlLCBzZXRTZWxlY3RlZEltYWdlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2VsZWN0ZWRJbmRleCwgc2V0U2VsZWN0ZWRJbmRleF0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldElzQ2xpZW50KHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzYXZlZEltYWdlcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGBncmlkLSR7dHlwZX1gKTtcbiAgICAgIGlmIChzYXZlZEltYWdlcykge1xuICAgICAgICBjb25zdCBwYXJzZWRJbWFnZXMgPSBKU09OLnBhcnNlKHNhdmVkSW1hZ2VzKTtcbiAgICAgICAgY29uc29sZS5sb2coYExvYWRpbmcgaW1hZ2VzIGZvciBncmlkICR7dHlwZX06YCwgcGFyc2VkSW1hZ2VzKTtcbiAgICAgICAgc2V0SW1hZ2VzKHBhcnNlZEltYWdlcyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgaW1hZ2VzOicsIGVycm9yKTtcbiAgICB9XG4gIH0sIFt0eXBlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNDbGllbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBTYXZpbmcgaW1hZ2VzIGZvciBncmlkICR7dHlwZX06YCwgaW1hZ2VzKTtcbiAgICAgICAgY29uc3Qgc3VjY2VzcyA9IHNhdmVUb0xvY2FsU3RvcmFnZShgZ3JpZC0ke3R5cGV9YCwgSlNPTi5zdHJpbmdpZnkoaW1hZ2VzKSk7XG4gICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHNhdmUgaW1hZ2VzIHRvIGxvY2FsU3RvcmFnZScpO1xuICAgICAgICAgIC8vIFRyeSB0byBjbGVhciBvdGhlciBkYXRhIHRvIG1ha2Ugc3BhY2VcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMzsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmIChpICE9PSB0eXBlKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYGdyaWQtJHtpfWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUcnkgc2F2aW5nIGFnYWluXG4gICAgICAgICAgICBjb25zdCByZXRyeVN1Y2Nlc3MgPSBzYXZlVG9Mb2NhbFN0b3JhZ2UoYGdyaWQtJHt0eXBlfWAsIEpTT04uc3RyaW5naWZ5KGltYWdlcykpO1xuICAgICAgICAgICAgaWYgKCFyZXRyeVN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgaW1hZ2VzIGV2ZW4gYWZ0ZXIgY2xlYW51cCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgc3RvcmFnZSBjbGVhbnVwOicsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBpbWFnZXM6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2ltYWdlcywgdHlwZSwgaXNDbGllbnRdKTtcblxuICBjb25zdCBoYW5kbGVJbWFnZVVwbG9hZCA9IGFzeW5jIChpbmRleDogbnVtYmVyLCBldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzPy5bMF07XG4gICAgaWYgKGZpbGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdMb2FkaW5nIGltYWdlOicsIGZpbGUubmFtZSwgJ1NpemU6JywgZmlsZS5zaXplKTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbG9hZGluZ1RvYXN0ID0gdG9hc3QubG9hZGluZygnUHJvY2Vzc2luZyBpbWFnZS4uLicpO1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICBcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVhZGVyLnJlc3VsdCBhcyBzdHJpbmc7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRmlsZSByZWFkIHN1Y2Nlc3NmdWxseSwgbGVuZ3RoOicsIHJlc3VsdC5sZW5ndGgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSB0ZW1wb3JhcnkgaW1hZ2UgdG8gdmVyaWZ5IGxvYWRpbmdcbiAgICAgICAgICAgIGNvbnN0IHRlbXBJbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIHRlbXBJbWcub25sb2FkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbWFnZSBkaW1lbnNpb25zOicsIHRlbXBJbWcud2lkdGgsICd4JywgdGVtcEltZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzZWRJbWFnZSA9IGF3YWl0IGNvbXByZXNzSW1hZ2UocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ29tcHJlc3NlZCBpbWFnZSBzaXplOicsIGNvbXByZXNzZWRJbWFnZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0ltYWdlcyA9IFsuLi5pbWFnZXNdO1xuICAgICAgICAgICAgICAgIG5ld0ltYWdlc1tpbmRleF0gPSBjb21wcmVzc2VkSW1hZ2U7XG4gICAgICAgICAgICAgICAgc2V0SW1hZ2VzKG5ld0ltYWdlcyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gVmVyaWZ5IHRoZSBpbWFnZSBpcyB2YWxpZCBhZnRlciBjb21wcmVzc2lvblxuICAgICAgICAgICAgICAgIGNvbnN0IHZlcmlmeUltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgIHZlcmlmeUltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW1hZ2UgdmVyaWZpZWQgYWZ0ZXIgY29tcHJlc3Npb24nKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBzYXZlVG9Mb2NhbFN0b3JhZ2UoYGdyaWQtJHt0eXBlfWAsIEpTT04uc3RyaW5naWZ5KG5ld0ltYWdlcykpO1xuICAgICAgICAgICAgICAgICAgdG9hc3QuZGlzbWlzcyhsb2FkaW5nVG9hc3QpO1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0b2FzdC5zdWNjZXNzKCdJbWFnZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0LmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBpbWFnZS4gUGxlYXNlIHRyeSBhIHNtYWxsZXIgaW1hZ2UuJyk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2ZXJpZnlJbWcub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB2ZXJpZnkgY29tcHJlc3NlZCBpbWFnZScpO1xuICAgICAgICAgICAgICAgICAgdG9hc3QuZGlzbWlzcyhsb2FkaW5nVG9hc3QpO1xuICAgICAgICAgICAgICAgICAgdG9hc3QuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgaW1hZ2UuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2ZXJpZnlJbWcuc3JjID0gY29tcHJlc3NlZEltYWdlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGR1cmluZyBjb21wcmVzc2lvbjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgdG9hc3QuZGlzbWlzcyhsb2FkaW5nVG9hc3QpO1xuICAgICAgICAgICAgICAgIHRvYXN0LmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIGltYWdlLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0ZW1wSW1nLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBvcmlnaW5hbCBpbWFnZTonLCBlcnJvcik7XG4gICAgICAgICAgICAgIHRvYXN0LmRpc21pc3MobG9hZGluZ1RvYXN0KTtcbiAgICAgICAgICAgICAgdG9hc3QuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgaW1hZ2UuIFBsZWFzZSB0cnkgYSBkaWZmZXJlbnQgaW1hZ2UuJyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0ZW1wSW1nLnNyYyA9IHJlc3VsdDtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBpbWFnZSBkYXRhOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRvYXN0LmRpc21pc3MobG9hZGluZ1RvYXN0KTtcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIGltYWdlLiBQbGVhc2UgdHJ5IGEgZGlmZmVyZW50IGltYWdlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVhZGluZyBmaWxlOicsIGVycm9yKTtcbiAgICAgICAgICB0b2FzdC5kaXNtaXNzKGxvYWRpbmdUb2FzdCk7XG4gICAgICAgICAgdG9hc3QuZXJyb3IoJ0Vycm9yIHJlYWRpbmcgaW1hZ2UgZmlsZScpO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgdXBsb2FkOicsIGVycm9yKTtcbiAgICAgICAgdG9hc3QuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBpbWFnZScpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTcXVhcmVDbGljayA9IChpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKGltYWdlc1tpbmRleF0pIHtcbiAgICAgIHNldFNlbGVjdGVkSW1hZ2UoaW1hZ2VzW2luZGV4XSk7XG4gICAgICBzZXRTZWxlY3RlZEluZGV4KGluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlsZUlucHV0UmVmcy5jdXJyZW50W2luZGV4XT8uY2xpY2soKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0U3F1YXJlQ2xhc3NOYW1lID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBiYXNlQ2xhc3NlcyA9IGBcbiAgICAgIHJlbGF0aXZlIHJvdW5kZWQteGwgb3ZlcmZsb3ctaGlkZGVuXG4gICAgICB0cmFuc2Zvcm0tZ3B1IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLVs4MDBtc10gZWFzZS1vdXRcbiAgICAgIGhvdmVyOnNjYWxlLVsxLjAyXSBjdXJzb3ItcG9pbnRlciBncm91cFxuICAgICAgYm9yZGVyLTJcbiAgICAgIGZsZXggaXRlbXMtc3RyZXRjaCBqdXN0aWZ5LWNlbnRlclxuICAgIGA7XG5cbiAgICAvLyBUeXBlIDE6IENlbnRlciBzcXVhcmUgaXMgZG91YmxlIHdpZHRoXG4gICAgaWYgKHR5cGUgPT09IDEpIHtcbiAgICAgIGlmIChpbmRleCA9PT0gNCkge1xuICAgICAgICByZXR1cm4gYCR7YmFzZUNsYXNzZXN9IHctWzUyMHB4XSBoLVsyNTBweF1gO1xuICAgICAgfVxuICAgICAgaWYgKGluZGV4ID09PSA1KSB7XG4gICAgICAgIHJldHVybiAnaGlkZGVuJztcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVHlwZSAzOiBTcGVjaWFsIGxheW91dCB3aXRoIHVwbG9hZCBpbiBtaWRkbGVcbiAgICBpZiAodHlwZSA9PT0gMykge1xuICAgICAgaWYgKGluZGV4ID09PSA0KSB7XG4gICAgICAgIHJldHVybiBgJHtiYXNlQ2xhc3Nlc30gdy1bMjUwcHhdIGgtWzI1MHB4XSByZWxhdGl2ZWA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGAke2Jhc2VDbGFzc2VzfSB3LVsyNTBweF0gaC1bMjUwcHhdYDtcbiAgfTtcblxuICBjb25zdCBncmlkQ2xhc3NOYW1lID0gKCkgPT4ge1xuICAgIGlmICh0eXBlID09PSAxKSB7XG4gICAgICByZXR1cm4gJ2dyaWQgZ3JpZC1jb2xzLTMgZ2FwLVsxMHB4XSBbJj5kaXY6bnRoLWNoaWxkKDUpXTpjb2wtc3Bhbi0yJztcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IDMpIHtcbiAgICAgIHJldHVybiAnZ3JpZCBncmlkLWNvbHMtMyBnYXAtWzEwcHhdIHJlbGF0aXZlJztcbiAgICB9XG4gICAgcmV0dXJuICdncmlkIGdyaWQtY29scy0zIGdhcC1bMTBweF0nO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtYi04XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7Z3JpZENsYXNzTmFtZSgpfSBtYXgtdy1bMTIwMHB4XSBteC1hdXRvYH0+XG4gICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiA5IH0pLm1hcCgoXywgaW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBpbWFnZSA9IGltYWdlc1tpbmRleF07XG4gICAgICAgICAgY29uc3QgaXNNaWRkbGVTcXVhcmUgPSB0eXBlID09PSAzICYmIGluZGV4ID09PSA0O1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Z2V0U3F1YXJlQ2xhc3NOYW1lKGluZGV4KX1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3IsXG4gICAgICAgICAgICAgICAgbWluSGVpZ2h0OiAnMjUwcHgnLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHR5cGUgPT09IDEgJiYgaW5kZXggPT09IDUgPyAnbm9uZScgOiAnZmxleCcsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogaXNNaWRkbGVTcXVhcmUgPyB1bmRlZmluZWQgOiAodHlwZSA9PT0gMyA/ICd1cmwoL2xheWVyMjEucG5nKScgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRTaXplOiAnY292ZXInLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvbjogJ2NlbnRlcidcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3F1YXJlQ2xpY2soaW5kZXgpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aW1hZ2UgPyAoXG4gICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgc3JjPXtpbWFnZX1cbiAgICAgICAgICAgICAgICAgIGFsdD17YEdyaWQgJHt0eXBlfSBJbWFnZSAke2luZGV4ICsgMX1gfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXIgdHJhbnNmb3JtLWdwdSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi1bODAwbXNdIGVhc2Utb3V0IGdyb3VwLWhvdmVyOnNjYWxlLTEwMFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0Rml0OiAnY292ZXInLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJ1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uTG9hZD17KCkgPT4gY29uc29sZS5sb2coYEltYWdlICR7aW5kZXh9IGxvYWRlZCBzdWNjZXNzZnVsbHlgKX1cbiAgICAgICAgICAgICAgICAgIG9uRXJyb3I9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGxvYWRpbmcgaW1hZ2UgJHtpbmRleH06YCwgZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IHRvIHJlbG9hZCB0aGUgaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlICYmICFpbWFnZS5pbmNsdWRlcygnP3JldHJ5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc3JjID0gaW1hZ2UgKyAnP3JldHJ5PTEnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5zcmMgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdC5lcnJvcihgRmFpbGVkIHRvIGxvYWQgaW1hZ2UgJHtpbmRleCArIDF9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBlbXB0eVNxdWFyZUNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDBcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6IHRleHRDb2xvciB9fSBjbGFzc05hbWU9XCJ0ZXh0LWxnXCI+XG4gICAgICAgICAgICAgICAgICAgIENsaWNrIHRvIFVwbG9hZFxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgcmVmPXsoZWw6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZmlsZUlucHV0UmVmcy5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVJbnB1dFJlZnMuY3VycmVudFtpbmRleF0gPSBlbDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW1hZ2VVcGxvYWQoaW5kZXgsIGUpfVxuICAgICAgICAgICAgICAgIGFjY2VwdD1cImltYWdlLypcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogTW9kYWwgZm9yIGVubGFyZ2VkIGltYWdlICovfVxuICAgICAge3NlbGVjdGVkSW1hZ2UgJiYgKFxuICAgICAgICA8ZGl2IFxuICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwXCJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZEltYWdlKG51bGwpO1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRJbmRleChudWxsKTtcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtYXgtdy1bOTB2d10gbWF4LWgtWzkwdmhdXCIgb25DbGljaz17ZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfT5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPXtzZWxlY3RlZEltYWdlfVxuICAgICAgICAgICAgICBhbHQ9XCJFbmxhcmdlZCB2aWV3XCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWF4LXctZnVsbCBtYXgtaC1bOTB2aF0gb2JqZWN0LWNvbnRhaW4gcm91bmRlZC0zeGwgYm9yZGVyLTQgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBib3JkZXJDb2xvciB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGZpbGVJbnB1dFJlZnMuY3VycmVudFtzZWxlY3RlZEluZGV4XT8uY2xpY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCByaWdodC00IHRleHQtd2hpdGUgYmctYmxhY2sgYmctb3BhY2l0eS01MCByb3VuZGVkLWZ1bGwgdy04IGgtOCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBob3ZlcjpiZy1vcGFjaXR5LTcwIHRyYW5zaXRpb24tYWxsXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkSW1hZ2UobnVsbCk7XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRJbmRleChudWxsKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgw5dcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBJbWFnZUdyaWQ7Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlUmVmIiwidXNlRWZmZWN0IiwidG9hc3QiLCJNQVhfV0lEVEgiLCJNQVhfSEVJR0hUIiwiVEFSR0VUX0ZJTEVfU0laRSIsImNvbXByZXNzSW1hZ2UiLCJkYXRhVXJsIiwiaW5pdGlhbFF1YWxpdHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImltZyIsIkltYWdlIiwib25sb2FkIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJNYXRoIiwicm91bmQiLCJjdHgiLCJnZXRDb250ZXh0IiwiRXJyb3IiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJpbWFnZVNtb290aGluZ1F1YWxpdHkiLCJkcmF3SW1hZ2UiLCJxdWFsaXR5IiwiY29tcHJlc3NlZERhdGFVcmwiLCJ0b0RhdGFVUkwiLCJsZW5ndGgiLCJlcnJvciIsImNvbnNvbGUiLCJvbmVycm9yIiwic3JjIiwic2F2ZVRvTG9jYWxTdG9yYWdlIiwia2V5IiwidmFsdWUiLCJjb21wcmVzc2VkIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJyZXRyeUVycm9yIiwiSW1hZ2VHcmlkIiwidHlwZSIsImVtcHR5U3F1YXJlQ29sb3IiLCJib3JkZXJDb2xvciIsInRleHRDb2xvciIsImlzQ2xpZW50Iiwic2V0SXNDbGllbnQiLCJpbWFnZXMiLCJzZXRJbWFnZXMiLCJBcnJheSIsImZpbGwiLCJmaWxlSW5wdXRSZWZzIiwic2VsZWN0ZWRJbWFnZSIsInNldFNlbGVjdGVkSW1hZ2UiLCJzZWxlY3RlZEluZGV4Iiwic2V0U2VsZWN0ZWRJbmRleCIsInNhdmVkSW1hZ2VzIiwiZ2V0SXRlbSIsInBhcnNlZEltYWdlcyIsIkpTT04iLCJwYXJzZSIsImxvZyIsInN1Y2Nlc3MiLCJzdHJpbmdpZnkiLCJ3YXJuIiwiaSIsInJldHJ5U3VjY2VzcyIsImhhbmRsZUltYWdlVXBsb2FkIiwiaW5kZXgiLCJldmVudCIsImZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsIm5hbWUiLCJzaXplIiwibG9hZGluZ1RvYXN0IiwibG9hZGluZyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJyZXN1bHQiLCJ0ZW1wSW1nIiwiY29tcHJlc3NlZEltYWdlIiwibmV3SW1hZ2VzIiwidmVyaWZ5SW1nIiwiZGlzbWlzcyIsInJlYWRBc0RhdGFVUkwiLCJoYW5kbGVTcXVhcmVDbGljayIsImN1cnJlbnQiLCJjbGljayIsImdldFNxdWFyZUNsYXNzTmFtZSIsImJhc2VDbGFzc2VzIiwiZ3JpZENsYXNzTmFtZSIsImRpdiIsImNsYXNzTmFtZSIsImZyb20iLCJtYXAiLCJfIiwiaW1hZ2UiLCJpc01pZGRsZVNxdWFyZSIsInN0eWxlIiwibWluSGVpZ2h0IiwiZGlzcGxheSIsInBvc2l0aW9uIiwib3ZlcmZsb3ciLCJiYWNrZ3JvdW5kSW1hZ2UiLCJ1bmRlZmluZWQiLCJiYWNrZ3JvdW5kU2l6ZSIsImJhY2tncm91bmRQb3NpdGlvbiIsIm9uQ2xpY2siLCJhbHQiLCJvYmplY3RGaXQiLCJvbkxvYWQiLCJvbkVycm9yIiwiZSIsImluY2x1ZGVzIiwiYmFja2dyb3VuZENvbG9yIiwidG9wIiwibGVmdCIsInpJbmRleCIsInNwYW4iLCJjb2xvciIsImlucHV0IiwicmVmIiwiZWwiLCJvbkNoYW5nZSIsImFjY2VwdCIsInN0b3BQcm9wYWdhdGlvbiIsImJ1dHRvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/ImageGrid.tsx\n"));

/***/ })

});